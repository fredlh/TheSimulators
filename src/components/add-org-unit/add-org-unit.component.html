<div id="addOrgUnitButton">
    <button type="button" class="btn btn-success" aria-label="Left Align" (click)="openAddOrgUnitForm()">
        <span class="glyphicon glyphicon-plus" aria-hidden="true" style="padding-right: 7px;"></span>Add org unit
    </button>
</div>


<div id="addOrgUnitArea" class="add-org-unit container-fluid">
    <div class="add-org-unit-content">
        <span class="add-org-unit-close">x</span>
        <h1>Add an organisation unit</h1>
        <p>Here you can add an organisation unit</p>
        <p>Enter data in the fields, draw the org unit, and click save</p>
        <br>
        
        <form (ngSubmit)="onSubmit()" #optionsForm="ngForm">
                
            <div class="form-group row">
                <label class="col-lg-2 col-form-label">Name</label>
                <div class="col-lg-10">
                    <input class="form-control" type="text" required
                        [(ngModel)]="orgUnit.name" name="name">
                </div>
            </div>

            <div class="form-group row">
                <label class="col-lg-2 col-form-label">Coordinates</label>
                <div class="col-lg-7">
                    <textarea class="form-control" rows="4" readonly
                        [(ngModel)]="orgUnit.coordinates" name="coordinates"></textarea>
                </div>
                <div class="col-lg-3">
                    <button *ngIf="canDrawOrgUnitPolygon()" type="button" class="btn btn-success" aria-label="Left Align" (click)="drawOrgUnitPolygon()">
                        Draw org unit
                    </button>
                </div>
                <span style="padding: 7px;"></span>
                <div class="col-lg-3">
                    <button *ngIf="canDrawOrgUnitMarker()" type="button" class="btn btn-success" aria-label="Left Align" (click)="drawOrgUnitMarker()">
                        Set marker
                    </button>
                </div>

                <div class="col-lg-3">
                    <button *ngIf="canClearCoordinates()" type="button" class="btn btn-warning" aria-label="Left Align" (click)="clearCoordinates()">
                        Clear coordinates
                    </button>
                </div>
                
            </div>

             <div class="form-group row">
                 <label class="col-lg-2 col-form-label">Parent ID</label>
                 <div class="col-lg-10">
                     <input class="form-control" type="text" required
                         [(ngModel)]="orgUnit.parent.id" name="parent">
                 </div>
             </div>


            <input type="button" value="Cancel" class="btn btn-primary" (click)="onCancel()">
            <input style="float: right;" type="submit" value="Add org unit" class="btn btn-primary" [disabled]="!optionsForm.form.valid">
        </form>
    </div>
</div>


<div id="drawOrgUnitPanelArea" style="display: none;">
    <p>Here you can draw an organisation unit by using the options at the right</p>
    <p>Draw the org unit, and either hit Save or Cancel</p>
    <button id="saveDrawnOrgUnitButton" class="btn btn-info" (click)="saveDrawnOrgUnit()">Save</button>
    <button id="cancelDrawnOrgUnitButton" class="btn btn-info" (click)="cancelDrawnOrgUnit()">Cancel</button>
</div>